# Infrastructure Concept Directory

This directory contains theoretical explanations of Infrastructure layer concepts, patterns, and how they integrate with Domain and Application layers.

## Files Overview

### 1. EventSourcing
**Focus**: Event Sourcing pattern and implementation

**Topics Covered**:
- What is Event Sourcing
- Why use Event Sourcing
- Event Store structure
- How event sourcing works
- Snapshots for performance
- Concurrency control
- Event replay
- Event versioning
- Benefits and trade-offs

**Key Takeaway**: Event Sourcing stores events instead of current state, providing complete audit trail and time travel capabilities.

---

### 2. ReadModels
**Focus**: CQRS Read Models and projections

**Topics Covered**:
- What are Read Models
- Why Read Models (performance)
- Read Model structure (denormalized)
- How Read Models are updated (projections)
- Read Model benefits
- Read Model patterns
- Eventual consistency
- Read Model design principles

**Key Takeaway**: Read Models provide fast, optimized querying by maintaining denormalized views updated from events.

---

### 3. RepositoryPattern
**Focus**: Repository pattern and data access abstraction

**Topics Covered**:
- What is Repository Pattern
- Why Repository Pattern
- Repository interface design
- Repository implementation
- Event-sourced repositories
- Unit of Work pattern
- Best practices
- Repository vs direct database access

**Key Takeaway**: Repository pattern provides abstraction for data access, separating business logic from database concerns.

### 4. TimescaleDB
**Focus**: TimescaleDB implementation for time-series data storage

**Topics Covered**:
- What is TimescaleDB
- TimeSeriesDbContext setup
- Hypertables configuration
- Compression and retention policies
- Time-series entity models (SensorReading, Alert)
- Database initialization
- Integration with Entity Framework Core
- Performance optimization for time-series queries

**Key Takeaway**: TimescaleDB provides optimized storage for time-series data with automatic partitioning, compression, and retention policies, enabling efficient analytics and historical data queries.

---

### 5. AWSDevOps
**Focus**: AWS infrastructure deployment and DevOps practices

**Topics Covered**:
- Infrastructure as Code (Terraform)
- AWS EKS (Kubernetes) cluster setup
- RDS PostgreSQL with TimescaleDB
- ElastiCache Redis for caching
- S3 and EFS storage solutions
- VPC networking and security
- CloudWatch monitoring and alerting
- Prometheus and Grafana integration
- Multi-environment deployment (dev, staging, prod)
- High availability and scalability
- Security best practices
- Cost optimization strategies

**Key Takeaway**: Infrastructure as Code enables reproducible, scalable, and maintainable cloud infrastructure deployments with enterprise-grade security and monitoring.

---

### 6. DockerCompose
**Focus**: Local development environment setup with Docker Compose

**Topics Covered**:
- Multi-container application orchestration
- Service definitions and dependencies
- Development Dockerfiles with hot reload
- Database initialization scripts
- Nginx reverse proxy configuration
- Development tools (pgAdmin, Kafka UI, Redis Commander)
- Monitoring services (Prometheus, Grafana)
- Volume management and data persistence
- Health checks and service dependencies
- Development workflow and scripts
- Troubleshooting common issues

**Key Takeaway**: Docker Compose provides a complete, production-like local development environment with all services, tools, and monitoring capabilities, enabling consistent development across all team members.

---

## Reading Order

**For Beginners**:
1. Start with `RepositoryPattern.md` - Understand data access abstraction
2. Read `EventSourcing.md` - Understand event storage
3. Read `ReadModels.md` - Understand query optimization
4. Read `TimescaleDB.md` - Understand time-series data storage
5. Read `DockerCompose.md` - Understand local development environment
6. Read `AWSDevOps.md` - Understand cloud infrastructure deployment

**For Reference**:
- Use `RepositoryPattern.md` when implementing repositories
- Use `EventSourcing.md` when working with event store
- Use `ReadModels.md` when optimizing queries
- Use `TimescaleDB.md` when working with time-series data
- Use `DockerCompose.md` when setting up local development environment
- Use `AWSDevOps.md` when deploying to AWS or managing infrastructure

---

## Quick Reference

### Event Sourcing
- Store events, not current state
- Rebuild state by replaying events
- Use snapshots for performance
- Provides complete audit trail

### Read Models
- Optimized for queries
- Denormalized structure
- Updated from events (projections)
- Eventually consistent

### Repository Pattern
- Abstraction for data access
- Interface in Application/Domain
- Implementation in Infrastructure
- Use Unit of Work for transactions

### TimescaleDB
- Time-series database extension for PostgreSQL
- Hypertables for automatic partitioning
- Compression and retention policies
- Optimized for time-range queries
- Separate TimeSeriesDbContext

### Docker Compose
- Multi-container orchestration
- Development environment setup
- Hot reload support
- Service dependencies
- Development tools integration
- Local monitoring setup

### AWS DevOps
- Infrastructure as Code (Terraform)
- Kubernetes orchestration (EKS)
- Managed databases (RDS, ElastiCache)
- Cloud storage (S3, EFS)
- Monitoring and observability
- Multi-environment support

---

## Related Concepts

- See `Concept/Layers/` for how Infrastructure relates to Domain and Application layers
- See `Concept/Application/` for Application layer concepts
- See `Concept/Backend/` for Domain layer concepts
- See `Concept/DataEngineering/` for data engineering and analytics infrastructure (includes TimescaleDB concepts for data engineering perspective)

---

## Infrastructure Layer Responsibilities

**Infrastructure Layer Provides**:
- Data persistence (Event Store, Read Models, Time-Series Database)
- External service integration (AWS, messaging)
- Repository implementations
- Database contexts (EventStoreDbContext, ReadModelDbContext, TimeSeriesDbContext)
- Projection handlers
- File storage services
- Time-series data storage (TimescaleDB with hypertables)
- Local development environment (Docker Compose)
- Cloud infrastructure deployment (Terraform)
- Container orchestration (Kubernetes/EKS)
- Monitoring and observability (CloudWatch, Prometheus, Grafana)

**Infrastructure Layer Depends On**:
- Domain layer (implements domain interfaces)
- Application layer (implements application interfaces)
- AWS services (for cloud deployment)

**Infrastructure Layer is Used By**:
- Application layer (via dependency injection)
- Presentation layer (via dependency injection)
- DevOps teams (for infrastructure management)

