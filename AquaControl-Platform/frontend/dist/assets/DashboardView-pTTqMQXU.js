import{y as N,c as T,r as O,m as $,z as u,B as t,R as e,u as o,al as h,L as q,J as l,O as v,Q as w,a5 as b,P as i,az as E,A as r,E as D,I as H,M as F}from"./vue-vendor-DU8T2215.js";import{u as G}from"./tankStore-BdUoNqf2.js";import{u as J,_ as P}from"./index-BgEO1XDn.js";import{r as Q,n as j,p as K,q as U,t as W,v as C,w as X,x as Y}from"./ui-vendor-BVGsLsDI.js";import"./utils-vendor-8BWg7NFy.js";const Z={class:"dashboard-view"},tt={class:"dashboard-header"},st={class:"header-stats"},et={class:"dashboard-content"},at={class:"dashboard-section"},nt={class:"section-header"},it={key:0,class:"tank-grid"},ot=["onClick"],lt={class:"tank-header"},ct={class:"tank-info"},dt={class:"info-item"},rt={class:"value"},ut={class:"info-item"},_t={class:"value"},vt={class:"info-item"},mt={class:"value"},pt={class:"info-item"},ht={class:"value"},ft={class:"tank-status"},yt={class:"status-text"},kt={key:1,class:"loading-state"},gt={key:2,class:"section-footer"},Tt={class:"dashboard-section"},wt={class:"activity-list"},bt={class:"activity-icon"},Dt={class:"activity-content"},Ct={class:"activity-title"},At={class:"activity-description"},St={class:"activity-time"},Mt={class:"dashboard-section"},xt={class:"status-grid"},zt={class:"status-item"},Bt={class:"status-header"},Vt={class:"status-value"},Rt={class:"status-item"},It={class:"status-header"},Lt={class:"status-value"},Nt={class:"status-item"},Ot={class:"status-header"},$t={class:"status-value"},qt={class:"status-item"},Et={class:"status-header"},Ht={class:"status-value"},Ft=N({__name:"DashboardView",setup(Gt){const y=E(),c=G(),k=J(),f=T(()=>Math.floor(Math.random()*5)),A=T(()=>{const n=c.activeTanks.length,s=c.tanks.length;return s===0?100:Math.round(n/s*100)}),S=O([{id:1,type:"tank_created",title:"New Tank Added",description:'Tank "Salmon Breeding 01" was created',timestamp:new Date(Date.now()-1e3*60*15)},{id:2,type:"tank_activated",title:"Tank Activated",description:'Tank "Trout Growing 03" was activated',timestamp:new Date(Date.now()-1e3*60*45)},{id:3,type:"sensor_alert",title:"Sensor Alert",description:'Temperature sensor in "Main Tank 01" reported high reading',timestamp:new Date(Date.now()-1e3*60*120)},{id:4,type:"maintenance",title:"Maintenance Scheduled",description:'Maintenance scheduled for "Breeding Tank 02"',timestamp:new Date(Date.now()-1e3*60*180)}]),g=async()=>{await c.fetchTanks()},M=n=>{y.push(`/tanks/${n}`)},x=()=>{y.push("/tanks")},z=n=>n.isActive?"status-active":n.isMaintenanceDue?"status-maintenance":"status-inactive",B=n=>n.isActive?"Operational":n.isMaintenanceDue?"Maintenance Due":"Inactive",V=n=>{switch(n){case"tank_created":case"tank_activated":return Y;case"sensor_alert":return X;case"maintenance":return C;default:return C}},R=n=>{switch(n){case"tank_created":case"tank_activated":return"activity-success";case"sensor_alert":return"activity-warning";case"maintenance":return"activity-info";default:return"activity-info"}},I=n=>{const _=new Date().getTime()-n.getTime(),d=Math.floor(_/(1e3*60)),m=Math.floor(_/(1e3*60*60));return d<60?`${d} minutes ago`:m<24?`${m} hours ago`:n.toLocaleDateString()};return $(async()=>{await g()}),(n,s)=>{const _=h("el-statistic"),d=h("el-icon"),m=h("el-button"),p=h("el-tag"),L=h("el-skeleton");return r(),u("div",Z,[t("div",tt,[s[0]||(s[0]=t("h1",null,"AquaControl Dashboard",-1)),t("div",st,[e(_,{title:"Total Tanks",value:o(c).tanks.length,class:"stat-card"},null,8,["value"]),e(_,{title:"Active Tanks",value:o(c).activeTanks.length,class:"stat-card"},null,8,["value"]),e(_,{title:"Alerts",value:f.value,class:"stat-card alert-stat"},null,8,["value"]),e(_,{title:"System Health",value:A.value,suffix:"%",class:"stat-card health-stat"},null,8,["value"])])]),t("div",et,[t("div",at,[t("div",nt,[s[2]||(s[2]=t("h2",null,"Tank Overview",-1)),e(m,{type:"primary",onClick:g},{default:l(()=>[e(d,null,{default:l(()=>[e(o(Q))]),_:1}),s[1]||(s[1]=v(" Refresh ",-1))]),_:1})]),o(c).isLoading?(r(),u("div",kt,[e(L,{rows:3,animated:""})])):(r(),u("div",it,[(r(!0),u(w,null,b(o(c).tanks.slice(0,6),a=>(r(),u("div",{key:a.id,class:"tank-card",onClick:Jt=>M(a.id)},[t("div",lt,[t("h3",null,i(a.name),1),e(p,{type:a.isActive?"success":"info",size:"small"},{default:l(()=>[v(i(a.status),1)]),_:2},1032,["type"])]),t("div",ct,[t("div",dt,[s[3]||(s[3]=t("span",{class:"label"},"Type:",-1)),t("span",rt,i(a.tankType),1)]),t("div",ut,[s[4]||(s[4]=t("span",{class:"label"},"Capacity:",-1)),t("span",_t,i(a.capacity.value)+" "+i(a.capacity.unit),1)]),t("div",vt,[s[5]||(s[5]=t("span",{class:"label"},"Location:",-1)),t("span",mt,i(a.location.building)+", "+i(a.location.room),1)]),t("div",pt,[s[6]||(s[6]=t("span",{class:"label"},"Sensors:",-1)),t("span",ht,i(a.activeSensorCount)+"/"+i(a.sensorCount),1)])]),t("div",ft,[t("div",{class:D(["status-indicator",z(a)])},null,2),t("span",yt,i(B(a)),1)])],8,ot))),128))])),o(c).tanks.length>6?(r(),u("div",gt,[e(m,{type:"text",onClick:x},{default:l(()=>[v(" View All Tanks ("+i(o(c).tanks.length)+") ",1)]),_:1})])):q("",!0)]),t("div",Tt,[s[7]||(s[7]=t("div",{class:"section-header"},[t("h2",null,"Recent Activity")],-1)),t("div",wt,[(r(!0),u(w,null,b(S.value,a=>(r(),u("div",{key:a.id,class:"activity-item"},[t("div",bt,[e(d,{class:D(R(a.type))},{default:l(()=>[(r(),H(F(V(a.type))))]),_:2},1032,["class"])]),t("div",Dt,[t("div",Ct,i(a.title),1),t("div",At,i(a.description),1),t("div",St,i(I(a.timestamp)),1)])]))),128))])]),t("div",Mt,[s[14]||(s[14]=t("div",{class:"section-header"},[t("h2",null,"System Status")],-1)),t("div",xt,[t("div",zt,[t("div",Bt,[e(d,{class:"status-icon database"},{default:l(()=>[e(o(j))]),_:1}),s[8]||(s[8]=t("span",null,"Database",-1))]),t("div",Vt,[e(p,{type:"success",size:"small"},{default:l(()=>[...s[9]||(s[9]=[v("Online",-1)])]),_:1})])]),t("div",Rt,[t("div",It,[e(d,{class:"status-icon realtime"},{default:l(()=>[e(o(K))]),_:1}),s[10]||(s[10]=t("span",null,"Real-time",-1))]),t("div",Lt,[e(p,{type:o(k).isConnected?"success":"danger",size:"small"},{default:l(()=>[v(i(o(k).isConnected?"Connected":"Disconnected"),1)]),_:1},8,["type"])])]),t("div",Nt,[t("div",Ot,[e(d,{class:"status-icon monitoring"},{default:l(()=>[e(o(U))]),_:1}),s[11]||(s[11]=t("span",null,"Monitoring",-1))]),t("div",$t,[e(p,{type:"success",size:"small"},{default:l(()=>[...s[12]||(s[12]=[v("Active",-1)])]),_:1})])]),t("div",qt,[t("div",Et,[e(d,{class:"status-icon alerts"},{default:l(()=>[e(o(W))]),_:1}),s[13]||(s[13]=t("span",null,"Alerts",-1))]),t("div",Ht,[e(p,{type:f.value>0?"warning":"success",size:"small"},{default:l(()=>[v(i(f.value)+" Active ",1)]),_:1},8,["type"])])])])])])])}}}),Wt=P(Ft,[["__scopeId","data-v-b9a22a07"]]);export{Wt as default};
//# sourceMappingURL=DashboardView-pTTqMQXU.js.map
